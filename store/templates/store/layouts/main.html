{% load static %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <meta name="description" content="Yenishop, une boutique virtuelle pour vous satifaire">
    <meta name="keywords" content="Chaussures, Téléphone, Ordinateur, Tablette">
    <meta name="author" content="YENI Matthias">
    <meta name="robots" content="index, follow">
    <meta name="revisit-after" content="7 days"> 
    <meta name="robots" content="noindex, nofollow">
    <meta name="og:description" content="Site ecommerce">
    <meta name="og:title" content="Yenishop">
    <meta name="og:image" content="{% static 'logo/logo.PNG' %}">
    <meta name="twitter:card" content="summary">

    <!-- <link rel="stylesheet" href="{% static 'css/navbar.css' %}"> -->
    <title>
        {% block title %}YeniShop{% endblock title %}
    </title>
    <!-- lien d'affichage du logo sur le moteur de recherche -->
    <link rel="shortcut icon" href="{% static 'logo/logo.PNG' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'logo/logo.PNG' %}" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <!-- Alertify css -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}"> -->
    <!-- <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/fontawesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'lib/animate.css' %}">-->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
     
<style>

    *{
        font-family: 'Roboto', sans-serif;
    }

    a{
        text-decoration: none;
    }

    .products-viewtag{
        background-color: red;
        color: #fff;
        font-size: 11px;
        line-height: 1;
        position: absolute;
        text-align: center;
        text-transform: uppercase;
        top: 22px;
        margin-left: 17.5rem;
        padding: 7px 10px;
        font-weight: 600;
        min-width: 45px;
    }
    .active{
        font-weight: 800;
        
    }
    .navb li a:hover{
    letter-spacing: 3px;
    transition: 0.5s;
    color: brown;
}
</style>

</head>
<body>
    {% include 'store/inc/navbar.html' %}
    {% block content %}

    {% endblock content %}
    <!-- {% comment %} boostrap {% endcomment %} -->  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    

    <!-- {% comment %} Jquery {% endcomment %} -->

    <script type="text/javascript" src="{% static '/js/jquery.js' %}"></script>

    <!-- {% comment %} JavaScript {% endcomment %} -->
     <script type="text/javascript" src="{% static '/js/increment.js' %}"></script>
     <script type="text/javascript" src="{% static '/js/owl.carousel.min.js' %}"></script>
     <script type="text/javascript" src="{% static '/lib/wow.js' %}"></script>
     <script type="text/javascript" src="{% static '/lib/waypoints.min.js' %}"></script>
     <script type="text/javascript" src="{% static '/lib/easing.js' %}"></script>

     <!-- AlertifyJS -->
     <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

     <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
<script>
    let typed = new Typed(".auto-typing",{
        strings: ['trendy accessories.', 'elegant clothes.', 'state-of-the-art electronic devices.', 'classy shoes.'],
        typeSpeed:100,
        backSpeed: 100,
        loop: true,
        fadeOut: true,
        fadeOutClass: 'typed--dfade-out',
        fadeOutDelay: 500,
        shuffle: true
    })
</script>



<!-- Barre de recherche -->
     <script>
        var availableTags = [];

        $.ajax({
            method: "GET",
            url: "/product-list",
            success: function (response){
                startAutocomplete(response);
            }
        });
        function startAutocomplete(availableTags)
        {
            $( "#searchproduct" ).autocomplete({
                source: availableTags
            });
        }
    

    </script>

    <!-- Scroll la barre de menu puis le fixe -->
 <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(){
        
        window.addEventListener('scroll', function() {
           
            if (window.scrollY > 50) {
                document.getElementById('navbar_top').classList.add('fixed-top');
                // add padding top to show content behind navbar
                navbar_height = document.querySelector('.navbar').offsetHeight;
                document.body.style.paddingTop = navbar_height + 'px';
            } else {
                 document.getElementById('navbar_top').classList.remove('fixed-top');
                 // remove padding top from body
                document.body.style.paddingTop = '0';
            } 
        });
    }); 
    // DOMContentLoaded  end
</script>


<!-- Affiche/masque le password dans le formulaire login -->
<script>
    document.getElementById("togglePassword").addEventListener("click", function() {
        var passwordField = document.getElementById("password");
        var fieldType = passwordField.getAttribute("type");
        if (fieldType === "password") {
            passwordField.setAttribute("type", "text");
            this.classList.remove("fa-eye");
            this.classList.add("fa-eye-slash");
        } else {
            passwordField.setAttribute("type", "password");
            this.classList.remove("fa-eye-slash");
            this.classList.add("fa-eye");
        }
    });
</script>

<!-- Affiche et masque le password dans le formulaire register -->

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const togglePasswordIcons = document.querySelectorAll('.toggle-password');
    
        togglePasswordIcons.forEach(icon => {
            icon.addEventListener('click', () => {
                const passwordFieldId = icon.dataset.target;
                const passwordField = document.getElementById(passwordFieldId);
    
                if (passwordField.type === 'password') {
                    passwordField.type = 'text';
                    icon.querySelector('i').classList.remove('fa-eye');
                    icon.querySelector('i').classList.add('fa-eye-slash');
                } else {
                    passwordField.type = 'password';
                    icon.querySelector('i').classList.remove('fa-eye-slash');
                    icon.querySelector('i').classList.add('fa-eye');
                }
            });
        });
    });
    </script>



<!-- Notification avec alertify -->
    <script>
         alertify.set('notifier','position', 'top-right');
        
        {% for msg in messages %}
            alertify.success('{{ msg }}');
        {% endfor %}   
    </script>

<!-- Affiche le logo sur le moteur de recherche déjà déployer -->
<!-- <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "YeniShop",
      "url": "https://www.yenishop.com",
      "logo": "https://www.yenishop.com//logo.png"
    }
</script> -->
    

<!-- Affiche le logo sur le moteur de recherche d'un site en local -->

<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "YeniShop",
      "url": "http://localhost:8000",
      "logo": "http://localhost:8000/static/logo/logo.PNG
    }
    </script>
    

    {% block scripts %}
   
    
    {% endblock scripts %}


      <!-- Changement de langue -->
<script>
    // Récupérer le bouton de changement de langue
    const changeLanguageButton = document.getElementById('change-language-button');
    
    // Ajouter un écouteur d'événements au clic sur le bouton
    changeLanguageButton.addEventListener('click', function() {
        // Récupérer la langue sélectionnée
        const selectedLanguage = document.getElementById('language-select').value;
    
        // Envoyer la requête POST
        fetch('/change-language/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': getCookie('csrftoken')  // Si vous utilisez CSRF protection
            },
            body: JSON.stringify({ language: selectedLanguage })
        })
        .then(response => {
            if (response.ok) {
                // Rediriger vers la page d'accueil ou rafraîchir la page pour appliquer les changements de langue
                window.location.reload();
            } else {
                console.error('Failed to change language');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
    
    // Fonction pour récupérer le cookie CSRF
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }

</script>
    {% include 'store/inc/footers.html' %}
</body>
</html>